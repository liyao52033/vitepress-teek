---
date: 2025-05-30 16:40:58
title: permalinké‡å†™æ–‡ç« è·¯ç”±
permalink: /pages/47a27c
description: 'æœ¬æ–‡è¯¦ç»†ä»‹ç»äº† vitepress-plugin-sidebar-permalink æ’ä»¶çš„åŠŸèƒ½ã€å®‰è£…ä½¿ç”¨æ–¹æ³•ã€é…ç½®é€‰é¡¹åŠå…¶ä¸»è¦ç‰¹æ€§ã€‚è¯¥æ’ä»¶èƒ½å¤Ÿè‡ªåŠ¨ç”Ÿæˆä¾§è¾¹æ å’Œé‡å†™è§„åˆ™ï¼Œæ”¯æŒå¤šç§è‡ªå®šä¹‰é…ç½®ï¼Œæ–¹ä¾¿ç”¨æˆ·é«˜æ•ˆç®¡ç†æ–‡æ¡£ç»“æ„å’Œé“¾æ¥ï¼Œæå‡æ–‡æ¡£ç½‘ç«™çš„å¯¼èˆªä½“éªŒã€‚'
top: 1
author:
  name: åæ€»
  link: https://xiaoying.org.cn
categories:
  - å·¥å…·ç±»
  - æœ¬ç«™æ’ä»¶
---

# vitepress-plugin-sidebar-permalink

VitePress æ’ä»¶ï¼šè‡ªåŠ¨ç”Ÿæˆ sidebar ä¾§è¾¹æ å’Œ permalink rewrites æ˜ å°„ï¼Œæ”¯æŒæ•°å­—å‰ç¼€æ’åºã€collapsed é…ç½®ã€permalink åŒ¹é…é«˜äº®ã€ç›®å½•/æ–‡ä»¶åç¾åŒ–ç­‰ã€‚

## githubåœ°å€

::: navCard  2

```yaml
- name: vitepress-plugin-sidebar-permalink
  desc: è¿™æ˜¯ä¸€ä¸ªé€‚ç”¨äºvitepressçš„ Vite æ’ä»¶ï¼Œvitepresså¯åŠ¨æ—¶ï¼Œæ’ä»¶ä¼šé‡å†™è·¯ç”±ç”¨permalinkä½œä¸ºé“¾æ¥å¹¶ç”Ÿæˆä¾§è¾¹æ ã€‚
  img: https://img.xiaoying.org.cn/img/202503231752583.png
  link: https://github.com/liyao52033/vitepress-plugin-sidebar-permalink
  badge: vitepressæ’ä»¶
  badgeType: tip
```

:::

## å®‰è£…

::: code-group

```sh [npm]
npm install vitepress-plugin-sidebar-permalink -D
```

```sh [yarn]
yarn add vitepress-plugin-sidebar-permalink -D
```

```sh [pnpm]
pnpm i vitepress-plugin-sidebar-permalink -D
```

:::

## ç”¨æ³•

### é…ç½®

::: code-group

```ts [.vitepress/config.ts]
import { defineConfig } from 'vitepress'
import SidebarPermalinkPlugin, { generatedSidebar, generatedRewrites } from 'vitepress-plugin-sidebar-permalink'
// import rewritesJson from '../rewrites.json'

export default defineConfig({
  vite: {
    plugins: [
      SidebarPermalinkPlugin({
        root: 'docs',  //æ ¹ç›®å½•
        dir: 'docs/articles', //Markdownæ–‡ç« ç›®å½•è·¯å¾„
        rewritesPath: 'docs/rewrites.json',  //é‡å†™è§„åˆ™æ–‡ä»¶è·¯å¾„
     //   rewrites: rewritesJson.rewrites,  //ç›´æ¥æä¾›çš„é‡å†™è§„åˆ™ï¼Œå¯åŠ¨æ—¶æ³¨é‡Šè¿™ä¸ªï¼Œç”Ÿæˆjsonåå†å†™ï¼Œåç»­ä¼˜å…ˆä½¿ç”¨è¿™ä¸ªæœ¬åœ°çš„json
        options: { collapsed: true },  //ä¾§è¾¹æ æ˜¯å¦æŠ˜å 
        ignoreDirs: {               //å¿½ç•¥ç›®å½•
          rewriteIgnores: [], 
          sidebarIgnores: [] 
        },
        navLinks: [  //å¯¼èˆªæ 
          { text: 'ç»„ä»¶', link: '/pages/fe4521' },
          { text: 'åç«¯', link: '/pages/571de5' },
          { text: 'èµ„æº', link: '/pages/87a36a' }
        ],
      })
    ]
  },
  // ä½¿ç”¨æ’ä»¶è‡ªåŠ¨ç”Ÿæˆçš„ä¾§è¾¹æ å’Œé‡å†™è§„åˆ™
  rewrites: generatedRewrites, 
  themeConfig: {
    sidebar: generatedSidebar
  }
})
```



```ts [ğŸ› ï¸ Options]
export interface SidebarPermalinkOptions {
    /**
     * æ ¹ç›®å½•, é»˜è®¤ä¸º 'docs'
     */
    root?: string; 
    /**
     * Markdownæ–‡ç« ç›®å½•è·¯å¾„ï¼Œé»˜è®¤ä¸º 'docs/articles'
     */
    dir?: string; 
    /**
     * é‡å†™è§„åˆ™æ–‡ä»¶è·¯å¾„ï¼Œé»˜è®¤ä¸º 'docs/rewrites.json'
     */
    rewritesPath?: string; 
    /**
     * ç›´æ¥æä¾›çš„é‡å†™è§„åˆ™ï¼Œä¸€èˆ¬ä¸ºrewritesJson.rewritesï¼ŒrewritesJsonä¸ºç”Ÿæˆçš„jsonæ–‡ä»¶
     *
     */
    rewrites?: Record<string, string>, 
   /**
    * sidebaré…ç½®ï¼Œæ˜¯å¦æŠ˜å 
    */
    options?: { collapsed: boolean }, 
    /**
     * å¯¼èˆªæ 
     */
    navLinks?: { text: string, link?: string, items?: any[] }[] | null | undefined,   
     /**
     * å¿½ç•¥çš„ä¾§è¾¹æ ç›®å½•åˆ—è¡¨
     *
     * */
    ignoreDirs?: IgnoreDirs; 
}


export interface IgnoreDirs {
  /**
   * é‡å†™è§„åˆ™é»˜è®¤å¿½ç•¥ç›®å½•ä¸º [".vitepress", "node_modules", "public", "dist"]    
   */
  rewriteIgnores: string[];
   /**
   * ä¾§è¾¹æ é»˜è®¤å¿½ç•¥ç›®å½•ä¸º [".vitepress", "node_modules", "public", "dist", "@pages", "index.md"]    
   */
  sidebarIgnores: string[];
}

```

:::

- æ’ä»¶ä¼šåœ¨å¯åŠ¨æ—¶ç”Ÿæˆä¾§è¾¹æ å’Œé‡å†™è§„åˆ™ï¼Œä¼˜å…ˆä»`rewrites`å‚æ•°è·å–é‡å†™è§„åˆ™ï¼Œå…¶æ¬¡ä»ç”Ÿæˆçš„jsonæ–‡ä»¶è¯»å–ï¼Œå»ºè®®ç”Ÿæˆjsonæ–‡ä»¶åé…ç½®è¯¥å‚æ•°

- é€šè¿‡å¯¼å‡ºçš„ `generatedSidebar` å’Œ `generatedRewrites` å˜é‡ç›´æ¥ä½¿ç”¨ç”Ÿæˆçš„é…ç½®

- æ’ä»¶é»˜è®¤å¿½ç•¥ç›®å½•

  ```ts
  {
    // é»˜è®¤é‡å†™è§„åˆ™å¿½ç•¥ç›®å½•
    rewriteIgnores: ['.vitepress', 'node_modules', 'public', 'dist'], 
    // é»˜è®¤ä¾§è¾¹æ å¿½ç•¥ç›®å½•
    sidebarIgnores: ['.vitepress', 'node_modules', 'public', 'dist', '@pages', 'index.md']
  }
  ```

  

### ä¿®æ”¹ä¾§è¾¹æ æ ·å¼

```ts
// .vitepress/theme/index.ts
import type { Theme } from 'vitepress'
import DefaultTheme from 'vitepress/theme'
import 'vitepress-plugin-sidebar-permalink/index.css'

export default {
  extends: DefaultTheme,
  enhanceApp({ router }) {
    // è‡ªå®šä¹‰å¢å¼ºé€»è¾‘
  }
} satisfies Theme
```

## ç‰¹æ€§

- **å…¨è‡ªåŠ¨ç”Ÿæˆ**ï¼šæ’ä»¶å¯åŠ¨æ—¶è‡ªåŠ¨ç”Ÿæˆä¾§è¾¹æ å’Œé‡å†™è§„åˆ™ï¼Œæ— éœ€æ‰‹åŠ¨è°ƒç”¨
- **è‡ªåŠ¨ç”Ÿæˆä¾§è¾¹æ **ï¼šæ”¯æŒæ•°å­—å‰ç¼€æ’åºã€collapsed é…ç½®ã€permalink åŒ¹é…é«˜äº®ã€ç›®å½•/æ–‡ä»¶åç¾åŒ–
- **è‡ªåŠ¨ç”Ÿæˆé‡å†™è§„åˆ™**ï¼šæ”¯æŒ permalink æ˜ å°„ï¼Œæ–¹ä¾¿ç®¡ç†æ–‡æ¡£ URL
- **æ”¯æŒç§æœ‰é¡µé¢**ï¼šé€šè¿‡ frontmatter ä¸­çš„ `private: true` æ ‡è®°ç§æœ‰é¡µé¢ï¼ˆåªé€‚é…[æœ¬ç«™ä¸»é¢˜åŒ…](https://vp.xiaoying.org.cn/pages/9d746f)ï¼Œé…ç½®åå³å¯å¼€å¯åŠ å¯†ï¼Œè®¿é—®éœ€ç™»å½•ï¼Œ`å•ç‹¬ä½¿ç”¨æ— æ•ˆ`ï¼‰
- **æ”¯æŒéšè—ä¾§è¾¹æ é¡¹**ï¼šé€šè¿‡ frontmatter ä¸­çš„ `sidebar: false` å¯ä»¥åœ¨ä¾§è¾¹æ ä¸­éšè—ç‰¹å®šé¡µé¢
- **çµæ´»é…ç½®**ï¼šå¯è‡ªå®šä¹‰å¿½ç•¥ç›®å½•ã€æŠ˜å çŠ¶æ€ã€å¯¼èˆªé“¾æ¥ç­‰
- **ä¿æŒä¸ VitePress å®˜æ–¹ sidebar é…ç½®è¡Œä¸ºä¸€è‡´**
- **æ”¯æŒç›´æ¥å¯¼å‡ºé…ç½®**ï¼šé€šè¿‡ `generatedSidebar` å’Œ `generatedRewrites` ç›´æ¥ä½¿ç”¨ç”Ÿæˆçš„é…ç½®

## é…ç½®é€‰é¡¹

| é€‰é¡¹ | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|--------|------|
| `root` | string | 'docs' | æ ¹ç›®å½•è·¯å¾„ |
| `dir` | string | 'docs/articles' | mdæ–‡ä»¶æ‰€åœ¨ç›®å½• |
| `rewritesPath` | string | 'docs/rewrites.json' | é‡å†™è§„åˆ™æ–‡ä»¶è·¯å¾„ |
| `rewrites` | Record<string, string> | undefined | ç›´æ¥æä¾›é‡å†™è§„åˆ™ï¼ˆä¸ä»æ–‡ä»¶è¯»å–ï¼‰ |
| `options` | { collapsed: boolean } | { collapsed: true } | ä¾§è¾¹æ é…ç½®é€‰é¡¹ |
| `navLinks` | array | undefined | å¯¼èˆªæ é…ç½® |
| `ignoreDirs` | IgnoreDirs | è§ä¸Šæ–‡ | å¿½ç•¥ç›®å½•é…ç½® |



